<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mac禁用谷歌浏览器自动更新 | Bai</title><meta name=keywords content="2021-12,tech"><meta name=description content="原文 From reading Chrome is Bad, it seems in some situations the updater (also known as keystone) can chew up CPU cycles. Whilst I’m not 100% convinced keystone continuously chews CPU, its launchctl configuration suggests it runs at least once an hour. Given I don’t use Chrome as my main browser, this is undesirable behaviour for me.
With that in mind, I’ve decided to disable the background services rather than delete Chrome entirely."><meta name=author content><link rel=canonical href=https://blog.mua.blue/2021-12/mac%E7%A6%81%E7%94%A8%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/><link crossorigin=anonymous href=/assets/css/stylesheet.min.5e2b4101351c21e906f398ae96901791830f58d430f96f2659dab7eaef7b3cb7.css integrity="sha256-XitBATUcIekG85iulpAXkYMPWNQw+W8mWdq36u97PLc=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.mua.blue/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.mua.blue/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.mua.blue/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.mua.blue/apple-touch-icon.png><link rel=mask-icon href=https://blog.mua.blue/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.3"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-NQP56SMP68"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NQP56SMP68")</script><meta property="og:title" content="Mac禁用谷歌浏览器自动更新"><meta property="og:description" content="原文 From reading Chrome is Bad, it seems in some situations the updater (also known as keystone) can chew up CPU cycles. Whilst I’m not 100% convinced keystone continuously chews CPU, its launchctl configuration suggests it runs at least once an hour. Given I don’t use Chrome as my main browser, this is undesirable behaviour for me.
With that in mind, I’ve decided to disable the background services rather than delete Chrome entirely."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.mua.blue/2021-12/mac%E7%A6%81%E7%94%A8%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-16T23:08:04+08:00"><meta property="article:modified_time" content="2021-12-16T23:08:04+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mac禁用谷歌浏览器自动更新"><meta name=twitter:description content="原文 From reading Chrome is Bad, it seems in some situations the updater (also known as keystone) can chew up CPU cycles. Whilst I’m not 100% convinced keystone continuously chews CPU, its launchctl configuration suggests it runs at least once an hour. Given I don’t use Chrome as my main browser, this is undesirable behaviour for me.
With that in mind, I’ve decided to disable the background services rather than delete Chrome entirely."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.mua.blue/posts/"},{"@type":"ListItem","position":3,"name":"Mac禁用谷歌浏览器自动更新","item":"https://blog.mua.blue/2021-12/mac%E7%A6%81%E7%94%A8%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mac禁用谷歌浏览器自动更新","name":"Mac禁用谷歌浏览器自动更新","description":"原文 From reading Chrome is Bad, it seems in some situations the updater (also known as keystone) can chew up CPU cycles. Whilst I’m not 100% convinced keystone continuously chews CPU, its launchctl configuration suggests it runs at least once an hour. Given I don’t use Chrome as my main browser, this is undesirable behaviour for me.\nWith that in mind, I’ve decided to disable the background services rather than delete Chrome entirely.","keywords":["2021-12","tech"],"articleBody":"原文 From reading Chrome is Bad, it seems in some situations the updater (also known as keystone) can chew up CPU cycles. Whilst I’m not 100% convinced keystone continuously chews CPU, its launchctl configuration suggests it runs at least once an hour. Given I don’t use Chrome as my main browser, this is undesirable behaviour for me.\nWith that in mind, I’ve decided to disable the background services rather than delete Chrome entirely. (I need it occasionally.) Stopping/unloading the services and fettling the config files to do nothing achieves this aim (and stops Chrome re-enabling them next launch), whilst leaving Chrome fully functional when needed.\n1.Unload the currently loaded services\nlaunchctl unload -w ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist launchctl unload -w ~/Library/LaunchAgents/com.google.keystone.agent.plist 2.Empty the config files, so if launchd ever tries to launch them they’ll just error out\necho  ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist echo  ~/Library/LaunchAgents/com.google.keystone.agent.plist 3.Change ownership and permissions of these files so only root can write to the files\nchmod 644 ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist chmod 644 ~/Library/LaunchAgents/com.google.keystone.agent.plist sudo chown root ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist sudo chown root ~/Library/LaunchAgents/com.google.keystone.agent.plist Now when I want to update Chrome once in a blue moon when I need it, I can navigate to [chrome://settings/help][1] to update (or from the UI, Chrome - About Chrome.)\n翻译 从阅读Chrome是坏的，在某些情况下，更新程序（也称为基石）似乎可以咀嚼CPU周期。虽然我不是100%相信Keystone会持续咀嚼CPU，但其launchctl配置表明它每小时至少运行一次。鉴于我不使用Chrome作为主浏览器，这对我来说是不受欢迎的行为。\n考虑到这一点，我决定禁用后台服务，而不是完全删除Chrome。（我偶尔需要它。）停止/卸载服务并固定配置文件什么都不做，可以实现这一目标（并阻止Chrome在下次启动时重新启用它们），同时在需要时让Chrome完全正常工作。\n1.卸载当前加载的服务\nlaunchctl unload -w ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist launchctl unload -w ~/Library/LaunchAgents/com.google.keystone.agent.plist 2.清空配置文件，因此，如果启动尝试启动它们，它们只会出错\necho  ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist echo  ~/Library/LaunchAgents/com.google.keystone.agent.plist 3.更改这些文件的所有权和权限，以便只有根可以写入文件\nchmod 644 ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist chmod 644 ~/Library/LaunchAgents/com.google.keystone.agent.plist sudo chown root ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist sudo chown root ~/Library/LaunchAgents/com.google.keystone.agent.plist 现在，当我想在需要时一月更新Chrome时，我可以导航到[chrome://settings/help][1]进行更新（或从UI，Chrome-关于Chrome。） [1]: chrome://settings/help\n","wordCount":"237","inLanguage":"zh","datePublished":"2021-12-16T23:08:04+08:00","dateModified":"2021-12-16T23:08:04+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.mua.blue/2021-12/mac%E7%A6%81%E7%94%A8%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/"},"publisher":{"@type":"Organization","name":"Bai","logo":{"@type":"ImageObject","url":"https://blog.mua.blue/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.mua.blue accesskey=h title="Bai (Alt + H)">Bai</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.mua.blue title=Home><span>Home</span></a></li><li><a href=https://blog.mua.blue/archives title=Archive><span>Archive</span></a></li><li><a href=https://blog.mua.blue/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://blog.mua.blue/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Mac禁用谷歌浏览器自动更新</h1><div class=post-meta>2021-12-16</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%8e%9f%e6%96%87 aria-label=原文>原文</a></li><li><a href=#%e7%bf%bb%e8%af%91 aria-label=翻译>翻译</a></li></ul></div></details></div><div class=post-content><h2 id=原文>原文<a hidden class=anchor aria-hidden=true href=#原文>#</a></h2><p>From reading Chrome is Bad, it seems in some situations the updater (also known as keystone) can chew up CPU cycles. Whilst I’m not 100% convinced keystone continuously chews CPU, its launchctl configuration suggests it runs at least once an hour. Given I don’t use Chrome as my main browser, this is undesirable behaviour for me.</p><p>With that in mind, I’ve decided to disable the background services rather than delete Chrome entirely. (I need it occasionally.) Stopping/unloading the services and fettling the config files to do nothing achieves this aim (and stops Chrome re-enabling them next launch), whilst leaving Chrome fully functional when needed.</p><p>1.Unload the currently loaded services</p><pre tabindex=0><code>launchctl unload -w ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
launchctl unload -w ~/Library/LaunchAgents/com.google.keystone.agent.plist
</code></pre><p>2.Empty the config files, so if launchd ever tries to launch them they’ll just error out</p><pre tabindex=0><code>echo &gt; ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
echo &gt; ~/Library/LaunchAgents/com.google.keystone.agent.plist
</code></pre><p>3.Change ownership and permissions of these files so only root can write to the files</p><pre tabindex=0><code>chmod 644 ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
chmod 644 ~/Library/LaunchAgents/com.google.keystone.agent.plist
sudo chown root ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
sudo chown root ~/Library/LaunchAgents/com.google.keystone.agent.plist
</code></pre><p>Now when I want to update Chrome once in a blue moon when I need it, I can navigate to [chrome://settings/help][1] to update (or from the UI, Chrome -> About Chrome.)</p><h2 id=翻译>翻译<a hidden class=anchor aria-hidden=true href=#翻译>#</a></h2><p>从阅读Chrome是坏的，在某些情况下，更新程序（也称为基石）似乎可以咀嚼CPU周期。虽然我不是100%相信Keystone会持续咀嚼CPU，但其launchctl配置表明它每小时至少运行一次。鉴于我不使用Chrome作为主浏览器，这对我来说是不受欢迎的行为。</p><p>考虑到这一点，我决定禁用后台服务，而不是完全删除Chrome。（我偶尔需要它。）停止/卸载服务并固定配置文件什么都不做，可以实现这一目标（并阻止Chrome在下次启动时重新启用它们），同时在需要时让Chrome完全正常工作。</p><p>1.卸载当前加载的服务</p><pre tabindex=0><code>launchctl unload -w ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
launchctl unload -w ~/Library/LaunchAgents/com.google.keystone.agent.plist
</code></pre><p>2.清空配置文件，因此，如果启动尝试启动它们，它们只会出错</p><pre tabindex=0><code>echo &gt; ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
echo &gt; ~/Library/LaunchAgents/com.google.keystone.agent.plist
</code></pre><p>3.更改这些文件的所有权和权限，以便只有根可以写入文件</p><pre tabindex=0><code>chmod 644 ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
chmod 644 ~/Library/LaunchAgents/com.google.keystone.agent.plist
sudo chown root ~/Library/LaunchAgents/com.google.keystone.xpcservice.plist
sudo chown root ~/Library/LaunchAgents/com.google.keystone.agent.plist
</code></pre><p>现在，当我想在需要时一月更新Chrome时，我可以导航到[chrome://settings/help][1]进行更新（或从UI，Chrome->关于Chrome。）
[1]: chrome://settings/help</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.mua.blue/tags/2021-12/>2021-12</a></li><li><a href=https://blog.mua.blue/tags/tech/>tech</a></li></ul><nav class=paginav><a class=next href=https://blog.mua.blue/2021-10/mac%E5%AE%89%E8%A3%85nvm/><span class=title>下一页 »</span><br><span>Mac安装nvm</span></a></nav></footer><div id=vcomments></div><script src=//unpkg.com/valine/dist/Valine.min.js></script>
<script>new Valine({el:"#vcomments",appId:"1eVtDydmuQELiOik5Q1ib4dj-MdYXbMMI",appKey:"7xumTKmufRWgiNNN6KUJAqEb",enableQQ:!0,requiredFields:["nick","mail"]})</script></article></main><footer class=footer><span><a href=https://beian.miit.gov.cn>鄂ICP备2021014854号-1</a></span><br><span>&copy; 2022 <a href=https://blog.mua.blue>Bai</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="复制";function s(){e.innerText="已复制！",setTimeout(()=>{e.innerText="复制"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>